(window.webpackJsonp=window.webpackJsonp||[]).push([[95,96,103],{"26gb":function(n,l,t){"use strict";var o=t("8Y7J"),u=t("MKJQ"),e=t("sZkV"),i=t("SVse");t("RJ4+"),t("N5Ls"),t("bD4E"),t("iInd"),t("Rznk"),t.d(l,"a",(function(){return r})),t.d(l,"b",(function(){return p}));var r=o.nb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]{padding:0 16px}ion-title[_ngcontent-%COMP%]{padding:0;text-transform:capitalize}"]],data:{}});function s(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,4,"ion-buttons",[["slot","start"]],null,null,null,u.M,u.e)),o.ob(1,49152,null,0,e.l,[o.h,o.k,o.x],null,null),(n()(),o.pb(2,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==o.Bb(n,4).onClick(t)&&u),u}),u.K,u.c)),o.ob(3,49152,null,0,e.g,[o.h,o.k,o.x],{defaultHref:[0,"defaultHref"]},null),o.ob(4,16384,null,0,e.h,[[2,e.fb],e.Fb],{defaultHref:[0,"defaultHref"]},null)],(function(n,l){var t=l.component;n(l,3,0,t.backPageLink),n(l,4,0,t.backPageLink)}),null)}function a(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,2,"ion-buttons",[["slot","start"]],null,null,null,u.M,u.e)),o.ob(1,49152,null,0,e.l,[o.h,o.k,o.x],null,null),(n()(),o.pb(2,0,null,0,0,"img",[["alt","VIT logo"],["src","assets/images/VITLogo.png"],["title","VIT logo"],["width","150"]],null,null,null,null,null))],null,null)}function c(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,2,"ion-buttons",[["slot","end"]],null,null,null,u.M,u.e)),o.ob(1,49152,null,0,e.l,[o.h,o.k,o.x],null,null),(n()(),o.pb(2,0,null,0,0,"img",[["alt","VIT logo"],["src","assets/images/VIT-logo.png"],["title","VIT logo"],["width","64"]],null,null,null,null,null))],null,null)}function b(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,2,"ion-buttons",[["slot","end"]],null,null,null,u.M,u.e)),o.ob(1,49152,null,0,e.l,[o.h,o.k,o.x],null,null),(n()(),o.Jb(2,0,["Logged As: ",""]))],null,(function(n,l){n(l,2,0,l.component.serviceRole)}))}function p(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,14,"ion-header",[],null,null,null,u.T,u.l)),o.ob(1,49152,null,0,e.B,[o.h,o.k,o.x],null,null),(n()(),o.pb(2,0,null,0,12,"ion-toolbar",[],null,null,null,u.pb,u.H)),o.ob(3,49152,null,0,e.zb,[o.h,o.k,o.x],null,null),(n()(),o.pb(4,0,null,0,2,"ion-title",[],null,null,null,u.nb,u.F)),o.ob(5,49152,null,0,e.xb,[o.h,o.k,o.x],null,null),(n()(),o.Jb(6,0,[" "," "])),(n()(),o.eb(16777216,null,0,1,null,s)),o.ob(8,16384,null,0,i.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,0,1,null,a)),o.ob(10,16384,null,0,i.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,0,1,null,c)),o.ob(12,16384,null,0,i.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.eb(16777216,null,0,1,null,b)),o.ob(14,16384,null,0,i.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,8,0,t.isBackButtonActivate),n(l,10,0,t.isFullLogoActivate),n(l,12,0,t.isSmallLogoActivate),n(l,14,0,t.isLoggedAsActivate)}),(function(n,l){n(l,6,0,l.component.title)}))}},QhV3:function(n,l,t){"use strict";t.d(l,"a",(function(){return o}));class o{}},"RJ4+":function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var o=t("mrSG"),u=(t("N5Ls"),t("bD4E"),t("Rznk"),t("bl9C"));class e{constructor(n,l,t,o){this.loginService=n,this.commonPopover=l,this.router=t,this.keystore=o}ngOnInit(){this.keystore.get("User").then(n=>{this.serviceRole=n.serviceRole===u.a.enums.roles.SERVICE_PROVIDER?u.a.enums.rolesValue.VOLUNTEER:u.a.enums.rolesValue.DISTRESSED})}goToLogout(){this.commonPopover.alertPopOver("Do you really want to logout?","Logout confirmation").then(n=>{n&&this.logout()})}logout(){return o.a(this,void 0,void 0,(function*(){yield this.commonPopover.loaderPresent("Logging Out..."),this.loginService.logout().then(n=>{this.router.navigate(["/login"]),this.commonPopover.toastPopOver("Successfully logged out"),this.commonPopover.loaderDismiss()})}))}}},etDm:function(n,l,t){"use strict";t.r(l);var o=t("8Y7J");class u{}var e=t("pMnS"),i=t("26gb"),r=t("RJ4+"),s=t("N5Ls"),a=t("bD4E"),c=t("iInd"),b=t("Rznk"),p=t("MKJQ"),g=t("sZkV"),d=t("s7LF"),m=t("SVse"),h=t("mrSG"),v=t("LGxA"),f=t("Qcnj");class P{constructor(n,l,t,o,u,e,i){this.route=n,this.formBuilder=l,this.otpService=t,this.commonPopover=o,this.networkConnection=u,this.router=e,this.keystore=i,this.title="Enter OTP",this.timer=30,this.time=setInterval(()=>{this.timer-=1},1e3)}ngOnInit(){this.otpForm=this.formBuilder.group({otp:["",[d.o.required,d.o.pattern(/^[0-9]{4,4}$/)]]})}changeOTP(n){n&&this.otpForm.patchValue({otp:n.length>4?n.substring(0,4):n})}resendOTP(){return h.a(this,void 0,void 0,(function*(){if(!(this.timer>0)){if(this.networkConnection.isOffline())return this.networkConnection.isConnectionMessage();yield this.commonPopover.loaderPresent("Resending OTP"),this.otpService.sendOTP(this.route.snapshot.paramMap.params,"true").then(n=>{this.commonPopover.toastPopOver("OTP resend to your number."),this.timer=30,this.commonPopover.loaderDismiss()}).catch(n=>{this.commonPopover.loaderDismiss()})}}))}submitOTP(){return h.a(this,void 0,void 0,(function*(){if(this.networkConnection.isOffline())return this.networkConnection.isConnectionMessage();if(!this.otpForm.valid)return;let n={countryCode:this.route.snapshot.paramMap.get("countryCode"),phone:this.route.snapshot.paramMap.get("phone"),otp:parseInt(this.otpForm.controls.otp.value)};yield this.commonPopover.loaderPresent("Verifying OTP"),this.otpService.verifyOTP(n).then(n=>{this.keystore.set("isAuthenticated",!0),this.commonPopover.loaderDismiss(),this.router.navigate(n.isServiceRoleSelected?["/home/map"]:["/select-role"])}).catch(n=>{this.commonPopover.loaderDismiss()})}))}ionViewWillLeave(){clearInterval(this.time)}}var k=o.nb({encapsulation:0,styles:[[".otp[_ngcontent-%COMP%]{position:relative;top:15%;margin:16px}.otp[_ngcontent-%COMP%]   .otp-option[_ngcontent-%COMP%]{border-bottom:5px solid var(--ion-color-primary);text-align:center;padding:16px;width:150px;margin:0 auto}.otp[_ngcontent-%COMP%]   .otp-option[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:50px;color:var(--ion-color-primary)}.otp[_ngcontent-%COMP%]   .otp-resend-btn[_ngcontent-%COMP%]{text-align:center;padding:16px;margin:30px 0}.otp[_ngcontent-%COMP%]   .otp-resend-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:bolder;color:var(--ion-color-medium)}.otp[_ngcontent-%COMP%]   .otp-resend-btn-activate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]],data:{}});function C(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Jb(1,null,["("," sec)"]))],null,(function(n,l){n(l,1,0,l.component.timer)}))}function O(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,1,"app-common-header",[["backPageLink","/login"],["isBackButtonActivate","true"],["isSmallLogoActivate","true"]],null,null,null,i.b,i.a)),o.ob(1,114688,null,0,r.a,[s.a,a.a,c.m,b.a],{title:[0,"title"],isBackButtonActivate:[1,"isBackButtonActivate"],isSmallLogoActivate:[2,"isSmallLogoActivate"],backPageLink:[3,"backPageLink"]},null),(n()(),o.pb(2,0,null,null,23,"ion-content",[],null,null,null,p.Q,p.i)),o.ob(3,49152,null,0,g.u,[o.h,o.k,o.x],null,null),(n()(),o.pb(4,0,null,0,21,"div",[["class","otp"]],null,null,null,null,null)),(n()(),o.pb(5,0,null,null,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==o.Bb(n,7).onSubmit(t)&&u),"reset"===l&&(u=!1!==o.Bb(n,7).onReset()&&u),u}),null,null)),o.ob(6,16384,null,0,d.s,[],null,null),o.ob(7,540672,null,0,d.d,[[8,null],[8,null]],{form:[0,"form"]},null),o.Gb(2048,null,d.a,null,[d.d]),o.ob(9,16384,null,0,d.k,[[4,d.a]],null,null),(n()(),o.pb(10,0,null,null,7,"div",[["class","otp-option"]],null,null,null,null,null)),(n()(),o.pb(11,0,null,null,6,"ion-input",[["formControlName","otp"],["placeholder","OTP"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var u=!0,e=n.component;return"ionBlur"===l&&(u=!1!==o.Bb(n,12)._handleBlurEvent(t.target)&&u),"ionChange"===l&&(u=!1!==o.Bb(n,12)._handleIonChange(t.target)&&u),"input"===l&&(u=!1!==e.changeOTP(t.target.value)&&u),u}),p.X,p.p)),o.ob(12,16384,null,0,g.Gb,[o.k],null,null),o.Gb(1024,null,d.h,(function(n){return[n]}),[g.Gb]),o.ob(14,671744,null,0,d.c,[[3,d.a],[8,null],[8,null],[6,d.h],[2,d.r]],{name:[0,"name"]},null),o.Gb(2048,null,d.i,null,[d.c]),o.ob(16,16384,null,0,d.j,[[4,d.i]],null,null),o.ob(17,49152,null,0,g.G,[o.h,o.k,o.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(n()(),o.pb(18,0,null,null,7,"div",[["class","otp-resend-btn"]],null,[[null,"click"]],(function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.resendOTP()&&o),o}),null,null)),o.Gb(512,null,m.q,m.r,[o.q,o.r,o.k,o.B]),o.ob(20,278528,null,0,m.h,[m.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Eb(21,{"otp-resend-btn-activate":0}),(n()(),o.pb(22,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Jb(-1,null,["Resend OTP"])),(n()(),o.eb(16777216,null,null,1,null,C)),o.ob(25,16384,null,0,m.j,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.pb(26,0,null,null,4,"ion-footer",[],null,null,null,p.R,p.j)),o.ob(27,49152,null,0,g.z,[o.h,o.k,o.x],null,null),(n()(),o.pb(28,0,null,0,2,"ion-button",[["expand","full"]],null,[[null,"click"]],(function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.submitOTP()&&o),o}),p.L,p.d)),o.ob(29,49152,null,0,g.k,[o.h,o.k,o.x],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(n()(),o.Jb(-1,0,["Submit OTP"]))],(function(n,l){var t=l.component;n(l,1,0,t.title,"true","true","/login"),n(l,7,0,t.otpForm),n(l,14,0,"otp"),n(l,17,0,"OTP","number");var o=n(l,21,0,t.timer<=0);n(l,20,0,"otp-resend-btn",o),n(l,25,0,t.timer>0),n(l,29,0,!t.otpForm.valid,"full")}),(function(n,l){n(l,5,0,o.Bb(l,9).ngClassUntouched,o.Bb(l,9).ngClassTouched,o.Bb(l,9).ngClassPristine,o.Bb(l,9).ngClassDirty,o.Bb(l,9).ngClassValid,o.Bb(l,9).ngClassInvalid,o.Bb(l,9).ngClassPending),n(l,11,0,o.Bb(l,16).ngClassUntouched,o.Bb(l,16).ngClassTouched,o.Bb(l,16).ngClassPristine,o.Bb(l,16).ngClassDirty,o.Bb(l,16).ngClassValid,o.Bb(l,16).ngClassInvalid,o.Bb(l,16).ngClassPending)}))}function B(n){return o.Lb(0,[(n()(),o.pb(0,0,null,null,1,"app-submit-otp",[],null,null,null,O,k)),o.ob(1,114688,null,0,P,[c.a,d.b,v.a,a.a,f.a,c.m,b.a],null,null)],(function(n,l){n(l,1,0)}),null)}var M=o.lb("app-submit-otp",P,B,{},{},[]);class L{}var I=t("QhV3");t.d(l,"SubmitOtpPageModuleNgFactory",(function(){return x}));var x=o.mb(u,[],(function(n){return o.yb([o.zb(512,o.j,o.X,[[8,[e.a,M]],[3,o.j],o.v]),o.zb(4608,m.l,m.k,[o.s,[2,m.t]]),o.zb(4608,d.q,d.q,[]),o.zb(4608,g.b,g.b,[o.x,o.g]),o.zb(4608,g.Eb,g.Eb,[g.b,o.j,o.p]),o.zb(4608,g.Ib,g.Ib,[g.b,o.j,o.p]),o.zb(4608,d.b,d.b,[]),o.zb(1073742336,m.b,m.b,[]),o.zb(1073742336,d.p,d.p,[]),o.zb(1073742336,d.f,d.f,[]),o.zb(1073742336,g.Bb,g.Bb,[]),o.zb(1073742336,c.p,c.p,[[2,c.u],[2,c.m]]),o.zb(1073742336,L,L,[]),o.zb(1073742336,I.a,I.a,[]),o.zb(1073742336,d.m,d.m,[]),o.zb(1073742336,u,u,[]),o.zb(1024,c.k,(function(){return[[{path:"",component:P}]]}),[])])}))}}]);