(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{MHRF:function(l,e,n){"use strict";n.r(e);var o=n("8Y7J");class t{}var i=n("pMnS"),s=n("MKJQ"),r=n("sZkV"),u=n("SVse"),c=n("mrSG"),a=n("+BTu"),p=n("Qcnj"),b=n("bD4E"),d=n("Rznk"),v=n("bl9C"),h=n("qJdp"),g=n("LvDl"),m=n.n(g);class k{constructor(l,e,n,o,t,i,s,r){this.route=l,this.router=e,this.userService=n,this.networkConnection=o,this.commonPopover=t,this.keystore=i,this.platform=s,this.googleService=r,this.serviceRole="",this.isServiceRoleStored=!1,this.storedRole="",this.volunteer=v.a.enums.roles.SERVICE_PROVIDER,this.distressed=v.a.enums.roles.SERVICE_TAKER}ngOnInit(){this.keystore.get("User").then(l=>{l.isServiceRoleSelected&&(this.serviceRole=l.serviceRole,this.storedRole=l.serviceRole,this.isServiceRoleStored=!0)})}selectRole(l){this.serviceRole=l}chooseRole(){return c.a(this,void 0,void 0,(function*(){if(this.isServiceRoleStored)if(this.serviceRole===this.storedRole)this.router.navigate(["/home"]);else{if(this.networkConnection.isOffline())return this.networkConnection.isConnectionMessage();let l={serviceRole:this.serviceRole,supportList:[]};yield this.commonPopover.loaderPresent("Updating Role"),this.userService.updateUser(l).then(l=>{this.commonPopover.loaderDismiss(),this.router.navigate(["/home"]),this.keystore.set("User",l)}).catch(l=>{this.commonPopover.loaderDismiss()})}else this.router.navigate(["/setup-profile",{serviceRole:this.serviceRole}]);this.getCurrentLocation(this.serviceRole)}))}getCurrentLocation(l){return c.a(this,void 0,void 0,(function*(){let e;e=this.platform.is("cordova")?yield this.googleService.checkGPSPermission():yield this.googleService.getCurrentPosition(),m.a.isEmpty(e)||this.userService.updateUser({address:e,serviceRole:l}).then(l=>{this.keystore.set("User",l)})}))}}var R=n("iInd"),C=o.nb({encapsulation:0,styles:[[".role[_ngcontent-%COMP%]{position:relative;top:20%;margin:16px}.role[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]{border:2px solid var(--ion-color-dark);text-align:center;padding:16px;margin:30px 0;border-radius:5px}.role[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:bolder;color:var(--ion-color-dark)}.role[_ngcontent-%COMP%]   .role-option-activated[_ngcontent-%COMP%]{border:3px solid var(--ion-color-primary)}.role[_ngcontent-%COMP%]   .role-option-activated[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .role[_ngcontent-%COMP%]   .role-option-activated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.Img[_ngcontent-%COMP%]{position:relative;top:80px}ion-icon[_ngcontent-%COMP%]{font-size:64px;vertical-align:middle;position:relative;top:-5px;left:-10px}"]],data:{}});function f(l){return o.Lb(0,[(l()(),o.pb(0,0,null,null,19,"ion-content",[],null,null,null,s.Q,s.i)),o.ob(1,49152,null,0,r.u,[o.h,o.k,o.x],null,null),(l()(),o.pb(2,0,null,0,0,"img",[["class","Img"],["src","assets/images/VITLogo.png"]],null,null,null,null,null)),(l()(),o.pb(3,0,null,0,16,"div",[["class","role"]],null,null,null,null,null)),(l()(),o.pb(4,0,null,null,7,"div",[["class","role-option"]],null,[[null,"click"]],(function(l,e,n){var o=!0,t=l.component;return"click"===e&&(o=!1!==t.selectRole(t.volunteer)&&o),o}),null,null)),o.Gb(512,null,u.q,u.r,[o.q,o.r,o.k,o.B]),o.ob(6,278528,null,0,u.h,[u.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Eb(7,{"role-option-activated":0}),(l()(),o.pb(8,0,null,null,1,"ion-icon",[["name","shield"],["size","large"]],null,null,null,s.U,s.m)),o.ob(9,49152,null,0,r.C,[o.h,o.k,o.x],{name:[0,"name"],size:[1,"size"]},null),(l()(),o.pb(10,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),o.Jb(-1,null,["Volunteer"])),(l()(),o.pb(12,0,null,null,7,"div",[["class","role-option"]],null,[[null,"click"]],(function(l,e,n){var o=!0,t=l.component;return"click"===e&&(o=!1!==t.selectRole(t.distressed)&&o),o}),null,null)),o.Gb(512,null,u.q,u.r,[o.q,o.r,o.k,o.B]),o.ob(14,278528,null,0,u.h,[u.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Eb(15,{"role-option-activated":0}),(l()(),o.pb(16,0,null,null,1,"ion-icon",[["name","receipt"],["size","large"]],null,null,null,s.U,s.m)),o.ob(17,49152,null,0,r.C,[o.h,o.k,o.x],{name:[0,"name"],size:[1,"size"]},null),(l()(),o.pb(18,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),o.Jb(-1,null,["Distressed"])),(l()(),o.pb(20,0,null,null,4,"ion-footer",[],null,null,null,s.R,s.j)),o.ob(21,49152,null,0,r.z,[o.h,o.k,o.x],null,null),(l()(),o.pb(22,0,null,0,2,"ion-button",[["color","dark"],["expand","full"],["ion-button",""],["style","color: black!important; font-weight:bold;"]],null,[[null,"click"]],(function(l,e,n){var o=!0;return"click"===e&&(o=!1!==l.component.chooseRole()&&o),o}),s.L,s.d)),o.ob(23,49152,null,0,r.k,[o.h,o.k,o.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(l()(),o.Jb(-1,0,["Continue"]))],(function(l,e){var n=e.component,o=l(e,7,0,n.serviceRole===n.volunteer);l(e,6,0,"role-option",o),l(e,9,0,"shield","large");var t=l(e,15,0,n.serviceRole===n.distressed);l(e,14,0,"role-option",t),l(e,17,0,"receipt","large"),l(e,23,0,"dark",!n.serviceRole,"full")}),null)}function P(l){return o.Lb(0,[(l()(),o.pb(0,0,null,null,1,"app-select-role",[],null,null,null,f,C)),o.ob(1,114688,null,0,k,[R.a,R.m,a.a,p.a,b.a,d.a,r.Hb,h.a],null,null)],(function(l,e){l(e,1,0)}),null)}var z=o.lb("app-select-role",k,P,{},{},[]),x=n("s7LF");class M{}n.d(e,"SelectRolePageModuleNgFactory",(function(){return S}));var S=o.mb(t,[],(function(l){return o.yb([o.zb(512,o.j,o.X,[[8,[i.a,z]],[3,o.j],o.v]),o.zb(4608,u.l,u.k,[o.s,[2,u.t]]),o.zb(4608,x.q,x.q,[]),o.zb(4608,r.b,r.b,[o.x,o.g]),o.zb(4608,r.Eb,r.Eb,[r.b,o.j,o.p]),o.zb(4608,r.Ib,r.Ib,[r.b,o.j,o.p]),o.zb(1073742336,u.b,u.b,[]),o.zb(1073742336,x.p,x.p,[]),o.zb(1073742336,x.f,x.f,[]),o.zb(1073742336,r.Bb,r.Bb,[]),o.zb(1073742336,R.p,R.p,[[2,R.u],[2,R.m]]),o.zb(1073742336,M,M,[]),o.zb(1073742336,t,t,[]),o.zb(1024,R.k,(function(){return[[{path:"",component:k}]]}),[])])}))}}]);